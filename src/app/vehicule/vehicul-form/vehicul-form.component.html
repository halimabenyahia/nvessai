
<div class="row">
  <div >
    <br>
    <form #formulaire="ngForm" >
      <div class="col-md-12">
        <div class="panel panel-primary">
          <div class="panel-heading">
            <div class="panel-body">
              <h5 style="color:gray">Ajouter un v√©hicule</h5>
              <br>
            <div class="row">
              <div class="form-group col-md-3">
                <label for="immatriculation">immatriculation:</label>
                <input  pattern='[1-9]{3}[tu][1-9]{9}' maxlength="9" title="immatriculation doit etre 111tu1111" 
                       type="text" class="form-control" ngModel name="immatriculation"
                       #immatriculation="ngModel">
                       <p *ngIf="immatriculation.invalid && immatriculation.touched " style="color:red" class="alert alert-light"
                       role="alert">
                         immatriculation incorrecte
                       </p> 
              </div>


              <div class="form-group col-md-3">
                <label for="des_marque">marque:</label>
                <input type="text" class="form-control"
                       #inputmarque
                       name='des_marque' 
                       (keyup)="chercherMarque(inputmarque.value)"
                       [(ngModel)]="selectedMarque"
                       >
                       
                <ol class = "list-group" #listSelectedMarque>
                        <li class="list-group-item" (click)="selectMarque(listSelectedMarque.value)" 
                            *ngFor="let marque of resultat" value="{{marque?.id_marque}}">
                                {{marque?.des_marque}}
                        </li>
                </ol>
              </div>
            

            <div class="form-group col-md-3 ">
                <label for="id_modele">modele</label>
                <input type="text" class="form-control"
                       #inputmodele
                       name='des_modele'
                       (keyup)="chercherModele(inputmodele.value)"
                       [(ngModel)]="selectedModele"
                >
                <ol class = "list-group" #listSelectedModele>
                    <li class="list-group-item" (click)="selectModele(listSelectedModele.value)" 
                        *ngFor="let modele of mod" 
                        value="{{modele?.id_modele}}">
                        {{modele?.des_modele}}
                    </li>
            </ol>
            </div>

              
              <div class="form-group col-md-3">
                  <label for="date_m_c">date mise en circulation:</label>
                  <input type="date" max="2019-04-16" class="form-control"
                         ngModel name="date_m_c" id="date_m_c"
                         #datemc="ngModel">
                         <p *ngIf="datemc.invalid && datemc.touched " style="color:red" class="alert alert-light"
                role="alert">
                  date invalide
                </p> 
              </div>

                <div class="form-group col-md-3">
                    <label for="num_moteur">num_moteur:</label>
                    <input type="text" class="form-control" ngModel name="num_moteur"
                           id="num_moteur"  #nummoteur="ngModel"
                           pattern="[A-Za-z0-9]+">
                           <p *ngIf="nummoteur.invalid && nummoteur.touched " style="color:red" class="alert alert-light"
                role="alert">
                  numero moteur invalide
                </p> 
                </div>

                <div class="form-group col-md-3">
                      <label for="date_acq">date d'acquisition:</label>
                      <input type="date" max="2019-04-16" class="form-control" 
                             ngModel name="date_acq" id="date_acq"
                             #dateacq="ngModel">
                             <p *ngIf="dateacq.invalid && dateacq.touched " style="color:red" class="alert alert-light"
                                 role="alert">
                                date invalide
                             </p> 
                </div>

                <div class="form-group col-md-3">
                        <label for="cout_achat">valeur d'acquisition:</label>
                        <input  type="number"  class="form-control" #valeurAcq="ngModel"
                                ngModel name="cout_achat" id="cout_achat"
                                pattern="\d+(\.\d{3})?"
                                >
                                <p *ngIf="valeurAcq.invalid && dateacq.touched " style="color:red" class="alert alert-light"
                                 role="alert">
                                date invalide
                             </p> 
                </div>


                <div class="form-group col-md-3 ">
                          <label for="id_typeVehicule">Type de vehicule</label>
                          <input type="text" class="form-control"
                                 #inputtypeV
                                 name='des_typeVehicule'
                                 (keyup)="chercherTypeVehicule(inputtypeV.value)"
                                [(ngModel)]="selectedTypeVehicule"
                           >
                   <ol class = "list-group" #listSelectedTypeV>
                       <li class="list-group-item" (click)="selectTypeV(listSelectedTypeV.value)" 
                           *ngFor="let type of typev" 
                           value="{{type?.id_typeVehicule}}">
                           {{typeVehicule?.des_typeVehicule}}
                       </li>
                   </ol>
                </div>

                        <div class="form-group col-md-3 ">
                            <label for="id_affectation">Affectation</label>
                            <input type="text" class="form-control"
                                   #inputaffectation
                                   name='des_affectation'
                                   (keyup)="chercherAffectation(inputaffectation.value)"
                                   [(ngModel)]="selectedAffectation"
                            >
                            <ol class = "list-group" #listSelectedAffectation>
                                <li class="list-group-item" (click)="selectAffectation(listSelectedAffectation.value)" 
                                    *ngFor="let affectation of affect" 
                                    value="{{affectation?.id_affectation}}">
                                    {{affectation?.des_affectation}}
                                </li>
                            </ol>
                        </div>


                      <div class="form-group col-md-3">
                          <label for="matricule_ch">Chauffeur:</label>
                          <input type="text" class="form-control"
                                   #inputchauffeur
                                   name='nom_ch'
                                   (keyup)="chercherChauffeur(inputchauffeur.value)"
                                   [(ngModel)]="selectedChauffeur"
                            >
                            <ol class = "list-group" #listSelectedChauffeur>
                                <li class="list-group-item" (click)="selectChauffeur(listSelectedChauffeur.value)" 
                                    *ngFor="let chauffeur of chauff" 
                                    value="{{chauffeur?.id_chauffeur}}">
                                    {{chauffeur?.nom_ch}}
                                </li>
                            </ol>
                        </div>

                        <div class="form-group col-md-3">
                            <label for="des_boite">boite:</label>
                            <input type="text" class="form-control"
                                   #inputboite
                                   name='des_boite'
                                   (keyup)="chercherBoite(inputboite.value)"
                                   [(ngModel)]="selectedBoite"
                            >
                            <ol class = "list-group" #listSelectedBoite>
                                <li class="list-group-item" (click)="selectBoite(listSelectedBoite.value)" 
                                    *ngFor="let boite of boiteV" 
                                    value="{{boite.id_typeBoite}}">
                                    {{boite?.des_boite}}
                                </li>
                            </ol>
                        </div>

                          <div class="form-group col-md-3">
                              <label for="des_energie">energie:</label>
                              <input type="text" class="form-control"
                                   #inputenergie
                                   name='des_energie'
                                   (keyup)="chercherEnergie(inputenergie.value)"
                                   [(ngModel)]="selectedEnergie"
                              >
                            <ol class = "list-group" #listSelectedEnergie>
                                <li class="list-group-item" (click)="selectEnergie(listSelectedEnergie.value)" 
                                    *ngFor="let energie of energieV" 
                                    value="{{energie.id_energie}}">
                                    {{energie?.des_energie}}
                                </li>
                            </ol>
                          </div>
                          </div>

                        </div>
                          <h5 style="color:gray">Assurance</h5>
              <br>
              <div class="row">

                  <div class="form-group col-md-3 ">
                      <label for="compagnie_ass">compagnie</label>
                      <input type="text" class="form-control"
                                   #inputassurance
                                   name='compagnie_ass'
                                   (keyup)="chercherAssurance(inputassurance.value)"
                                   [(ngModel)]="selectedassurance"
                            >
                            <ol class = "list-group" #listSelectedAssurance>
                                <li class="list-group-item" (click)="selectAssurance(listSelectedAssurance.value)" 
                                    *ngFor="let assurance of assur" 
                                    value="{{assurance?.id_assurance}}">
                                    {{assurance?.compagnie_ass}}
                                </li>
                            </ol>
                    </div>
                      <div class="form-group col-md-3">
                          <label for="date_deb_contrat">date debut contrat:</label>
                          <input type="date" min="2019-04-03" class="form-control" 
                                 ngModel name="date_deb_contrat" id="date_deb_contrat">
                          
                        </div>

                        <div class="form-group col-md-3">
                            <label for="date_fin_contrat">date fin contrat:</label>
                            <input type="date" min="2019-04-03" class="form-control" ngModel name="date_fin_contrat" id="date_fin_contrat">
                           
                          </div>
                          <div class="form-group col-md-3">
                              <label for="montant_contrat">montant assurance:</label>
                              <input type="number" min=10000 class="form-control" ngModel name="montant_contrat" id="montant_contrat">
                            </div>

              </div>
              <h5 style="color:gray">Visite technique</h5>
              <br>
              <div class="row">
                  <div class="form-group col-md-3">
                      <label for="date_deb_visit_tech">date debut visite technique:</label>
                      <input type="date" class="form-control" min="2019-04-03" ngModel name="date_deb_visit_tech" id="date_deb_visit_tech">
                    </div>
                    <div class="form-group col-md-3">
                        <label for="date_fin_visit_tech">date fin visite technique:</label>
                        <input type="date" class="form-control" ngModel name="date_fin_visit_tech" id="date_fin_visit_tech">
                      </div>

                      <div class="form-group col-md-3">
                          <label for="montant_visit_tech">montant visite technique:</label>
                          <input type="number" min="10000" class="form-control" ngModel name="montant_visit_tech" id="montant_visit_tech">
                          </div>
              </div>
              <h5 style="color:gray">Vignette</h5>
              <br>
              <div class="row">
                  <div class="form-group col-md-3">
                      <label for="date_deb_vig">date debut vignette:</label>
                      <input type="date" class="form-control" min="" ngModel name="date_deb_vig" id="date_deb_vig">

                    </div>
                    <div class="form-group col-md-3">
                      <label for="date_fin_vig">date fin vignette:</label>
                      <input type="date" class="form-control" ngModel name="date_fin_vig" id="date_fin_vig">
                     
                    </div>
                    <div class="form-group col-md-3">
                      <label for="montant_vig">montant vignette:</label>
                      <input type="number" min="10000" class="form-control" ngModel name="montant_vig" id="montant_vig">
                     
                    </div>
              </div>
              <div class="form-group col-md-2">
                <br>
                <button  type="submit" (click)="add(formulaire)" class="btn btn-success" >Add</button>
              </div>
            </div>

          </div>
        </div>
    </form>

    <br><br>
  </div>
</div>