
<br>
<div class="row">
  <div class="container">
    <br>
    <form #formulaire="ngForm">
      <div>
        <div class="card">
          <div class="card-body">
            <h6>ajouter une depense</h6>
            <br>
            <div class="row">
                <div class="form-group col-md-3 ">
                    <label for="immatriculation">VÃ©hicule</label>
                    <input type="text" class="form-control"
                                 #inputImmatricul
                                 ngModel name='immatriculation'
                                 (keyup)="chercherVehicule(inputImmatricul.value)"
                                 [(ngModel)]="selectedVehicule"
                          >
                          <input type="text"
                                 hidden  
                                 name='id_vehicule'
                                 [(ngModel)]="idSelectedVehicule"
                                 ngModel
                          >
                          <ol class = "list-group" #listSelectedVehicule>
                              <li class="list-group-item" (click)="selectVehicule(vehicule)" 
                                  *ngFor="let vehicule of vehicules" 
                                  value="{{vehicule?.id_vehicule}}">
                                  {{vehicule?.immatriculation}}
                              </li>
                          </ol>
                  </div>
              <div class="form-group col-md-3">
                <label for="date_depense">date de depense:</label>
                <input type="date" minlength="1" maxlength="8" required class="form-control" id="date_depense"
                  ngModel name="date_depense" #matricule="ngModel"  max="2019-06-06"
                >

              </div>
              <div class="form-group col-md-3">
                <label id="montant_ht">montant hors taxe:</label>
                <input  required  maxlength="20"  type="text" class="form-control"
                  id="montant_ht" ngModel name="montant_ht" #montant_ht="ngModel"
                >
                  <div *ngIf="montant_ht.invalid && montant_ht.touched" style="color:red" class="alert alert-light" role="alert">
                     montant invalide
                    </div>

              </div>
              <div class="form-group col-md-3">
                <label id="tva">tva:</label>
                <input   required  type="text" class="form-control" id="tva"
                  ngModel name="tva" #montantTva="ngModel" pattern="[1-9]+" 
                  >
                  <div *ngIf="montantTva.invalid && montantTva.touched" style="color:red" class="alert alert-light" role="alert">
                     tva invalide
                    </div>
                
              </div>
              <div class="form-group col-md-3">
                <label for="ttc">ttc:</label>
                <input  required type="text" pattern="[1-9]+" class="form-control"
                  id="ttc" ngModel name="ttc"  #montantTTC="ngModel"
                  >
                  <div *ngIf="montantTTC.invalid && montantTTC.touched" style="color:red" class="alert alert-light" role="alert">
                      montant invalide
                     </div>
               

              </div>
              <div class="form-group col-md-3">
                <label id="date_caisse">date_caisse:</label>
                <input type="date"  class="form-control" id="date_caisse" ngModel
                       name="date_caisse" >
              </div>
              
              <div class="form-group col-md-3">
                <label id="reference_d">reference:</label>
                <input  required minlength="1" maxlength="20" [pattern]="nameRegex" type="text" class="form-control"
                  id="reference_d" ngModel name="reference_d" #reference="ngModel"
                >
                  <div *ngIf="reference.invalid && reference.touched" style="color:red" class="alert alert-light" role="alert">
                     reference invalide
                    </div>

              </div>
            </div>
            <div class="form-group col-md-2">
              <br> 

              <button type="submit"  class="btn btn-success" (click)="add(formulaire )">Add</button>


            </div>

          </div>
        </div>
      </div>
    </form>
    <br><br>
  </div>
</div>